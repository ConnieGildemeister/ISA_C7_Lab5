<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Insert Data</title>
</head>
<body>
    <button id="insertButton">Insert Data</button>
    <div id="response"></div>

    <script>
        function sendData(query, method) {
            fetch('https://isa-c7-lab5-server2.onrender.com/api/v1/sql' + (method === 'GET' ? `?query=${encodeURIComponent(query)}` : ''), {
                method: method,
                headers: {
                    'Content-Type': 'application/json'
                },
                body: method === 'POST' ? JSON.stringify({ query }) : null
            })
            .then(response => response.json())
            .then(data => document.getElementById('response').textContent = JSON.stringify(data, null, 2))
            .catch(error => console.error('Error:', error));
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('insertData').onclick = () => sendData(
                'INSERT INTO patients (name, dob) VALUES ' +
                '("Sara Brown", "1901-01-01"), ' +
                '("John Smith", "1941-01-01"), ' +
                '("Jack Ma", "1961-01-30"), ' +
                '("Elon Musk", "1999-01-01")',
                'POST'
            );
            document.getElementById('submitQuery').onclick = () => {
                const query = document.getElementById('sqlQuery').value;
                const method = query.trim().toLowerCase().startsWith('select') ? 'GET' : 'POST';
                sendData(query, method);
            };
        });
        </script>
        
</body>
</html>
